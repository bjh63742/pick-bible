{"version":3,"sources":["fbase.js","defin.js","components/Loading.js","components/BiblePick.js","components/Login.js","routes/Home.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","storage","dbService","firestore","AppString","baseUrl","useStyles","makeStyles","root","width","height","display","alignItems","justifyContent","Loading","classes","className","CircularProgress","theme","paper","marginTop","spacing","flexDirection","backgroundColor","avatar","margin","form","submit","title","color","fontFamily","fontWeight","img","nameTitle","numberPad","n","length","Array","join","BiblePick","name","useState","isPick","setIsPick","bibleNumber","setBibleNumber","loading","setLoading","updateBibleNumber","collection","orderBy","onSnapshot","snapshot","findpicker","docs","map","doc","index","id","data","find","picker","undefined","useEffect","handleClick","a","newPicker","createdAt","Date","now","add","fileName","console","log","Container","component","maxWidth","Helmet","src","Button","fullWidth","variant","onClick","xhr","XMLHttpRequest","responseType","onload","event","blob","response","blobUrl","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","open","send","window","location","replace","Typography","type","Login","handleName","inputName","useRef","err","setErr","noValidate","onSubmit","preventDefault","current","value","trim","TextField","error","required","label","autoComplete","autoFocus","inputRef","helperText","Home","setName","App","CssBaseline","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.085073da.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\nfirebase.initializeApp(firebaseConfig);\n\nexport const storageService = firebase.storage();\nexport const dbService = firebase.firestore();\n","export const AppString = {\n  title: \"2021년 내게 주신 말씀\",\n};\n\nexport const baseUrl = \"https://bjh63742.github.io/pick-bible\";\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst Loading = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Img } from \"react-image\";\nimport { dbService } from \"../fbase\";\nimport { Helmet } from \"react-helmet\";\nimport { AppString, baseUrl } from \"../defin\";\nimport Loading from \"./Loading\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#F22929\",\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: \"#00A8E0\",\n  },\n  title: {\n    color: \"#00A8E0\",\n    fontFamily: \"NotoSerifKR\",\n    fontWeight: \"500\",\n  },\n  img: {\n    width: \"100%\",\n  },\n  nameTitle: {\n    marginTop: \"5px\",\n    color: \"rgba(0, 0, 0, 0.75)\",\n    fontFamily: \"NotoSerifKR\",\n    fontWeight: \"500\",\n  },\n}));\n\nfunction numberPad(n, width) {\n  n = n + \"\";\n  return n.length >= width ? n : new Array(width - n.length + 1).join(\"0\") + n;\n}\n\nconst BiblePick = ({ name }) => {\n  const classes = useStyles();\n  const [isPick, setIsPick] = useState(false); // 뽑았는지 안뽑았는지\n  const [bibleNumber, setBibleNumber] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  const updateBibleNumber = () => {\n    dbService\n      .collection(\"picks\")\n      .orderBy(\"createdAt\", \"asc\")\n      .onSnapshot((snapshot) => {\n        const nowPickers = snapshot.docs.map((doc, index) => ({\n          id: index,\n          ...doc.data(),\n        }));\n        const findpicker = nowPickers.find((picker) => picker.name === name);\n        if (findpicker !== undefined) {\n          setBibleNumber(findpicker.id + 1); // 0 부터 시작하므로\n          setIsPick(true);\n        }\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    updateBibleNumber();\n  }, []);\n\n  // 말씀 뽑기\n  const handleClick = async () => {\n    const newPicker = {\n      name: name,\n      createdAt: Date.now(),\n    };\n    await dbService.collection(\"picks\").add(newPicker);\n    updateBibleNumber();\n  };\n\n  const download = () => {\n    console.log(\"down\");\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = \"blob\";\n    xhr.onload = function (event) {\n      var blob = xhr.response;\n      console.log(blob);\n      const blobUrl = URL.createObjectURL(blob);\n\n      // Create a link element\n      const link = document.createElement(\"a\");\n\n      // Set link's href to point to the Blob URL\n      link.href = blobUrl;\n      link.download = `2021년 ${name} 의 말씀.png`;\n      // Append link to the body\n      document.body.appendChild(link);\n      link.click();\n    };\n    const cardNubmer = bibleNumber % 151;\n    const fileName = \"202100\" + numberPad(cardNubmer, 3) + \".png\";\n    xhr.open(\"GET\", `${baseUrl}/img/${fileName}`);\n    xhr.send();\n  };\n\n  const reflesh = () => {\n    window.location.replace(\"https://bjh63742.github.io/pick-bible\");\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (isPick) {\n    const cardNubmer = bibleNumber % 151;\n    const fileName = \"202100\" + numberPad(cardNubmer, 3) + \".png\";\n    console.log(fileName);\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Helmet>\n          <title>{AppString.title}</title>\n        </Helmet>\n        <Img src={`${baseUrl}/img/${fileName}`} className={classes.img} />\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n          onClick={download}\n        >\n          저장\n        </Button>\n        <Button\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n          onClick={reflesh}\n        >\n          처음으로\n        </Button>\n      </Container>\n    );\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Helmet>\n          <title>{AppString.title}</title>\n        </Helmet>\n        <div className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n            {AppString.title}\n          </Typography>\n          <Typography component=\"h1\" variant=\"h5\" className={classes.nameTitle}>\n            {name}\n          </Typography>\n          <div>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={handleClick}\n            >\n              말씀 받기\n            </Button>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n};\n\nexport default BiblePick;\n","import React, { useRef, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Helmet } from \"react-helmet\";\nimport { AppString } from \"../defin\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#F22929\",\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: \"#00A8E0\",\n  },\n  title: {\n    color: \"#00A8E0\",\n    fontFamily: \"NotoSerifKR\",\n    fontWeight: \"500\",\n  },\n}));\n\nexport default function Login({ handleName }) {\n  const classes = useStyles();\n  const inputName = useRef(null);\n  const [err, setErr] = useState(false);\n\n  const onSubmitLogin = (event) => {\n    event.preventDefault();\n    const name = inputName.current.value.trim();\n    if (name.length < 2 || name.length > 5) {\n      setErr(true);\n    } else {\n    }\n    handleName(name);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Helmet>\n        <title>{AppString.title}</title>\n      </Helmet>\n      <div className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h4\" className={classes.title}>\n          {AppString.title}\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmitLogin}>\n          <TextField\n            error={err}\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name\"\n            label=\"이름\"\n            name=\"name\"\n            autoComplete=\"email\"\n            autoFocus\n            inputRef={inputName}\n            helperText={`이름은 두글자 이상으로 한사람당 한번만 입력해 주시고 나오는 말씀은 바로 저장해 주세요`}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            확인\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n","import React, { useState } from \"react\";\nimport BiblePick from \"../components/BiblePick\";\nimport Login from \"../components/Login\";\n\nconst Home = () => {\n  const [name, setName] = useState(\"\");\n  const handleName = (name) => {\n    setName(name);\n  };\n  if (name === \"\") {\n    return <Login handleName={handleName} />;\n  } else {\n    return <BiblePick name={name} />;\n  }\n};\n\nexport default Home;\n","import React from \"react\";\nimport \"../assets/scss/styles.scss\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Home from \"../routes/Home\";\n\nfunction App() {\n  return (\n    <>\n      <CssBaseline />\n      <Home />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}