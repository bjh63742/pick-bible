(this["webpackJsonpbible-pick"]=this["webpackJsonpbible-pick"]||[]).push([[0],{64:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n(0),i=n.n(c),r=n(11),o=n.n(r),s=(n(64),n(112)),l=n(24),d=n(41),m=n.n(d),u=n(44),b=n(49),j=n(114),p=n(111),h=n(106),f=n(109),g=n(45),O=n(38);n(75),n(76);O.a.initializeApp({apiKey:"AIzaSyChsaecL5zTeqU4sp2k-q-2RnUw4nQDbzs",authDomain:"instagram-clon-33722.firebaseapp.com",databaseURL:"https://instagram-clon-33722.firebaseio.com",projectId:"instagram-clon-33722",storageBucket:"instagram-clon-33722.appspot.com",messagingSenderId:"444330259101",appId:"1:444330259101:web:fcb598054fed584b8d9a74"});O.a.storage();var x=O.a.firestore(),v=n(32),k="2021\ub144 \ub0b4\uac8c \uc8fc\uc2e0 \ub9d0\uc500",w="https://bjh63742.github.io/pick-bible",y=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"},avatar:{margin:e.spacing(1),backgroundColor:"#F22929"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#00A8E0"},title:{color:"#00A8E0",fontFamily:"NotoSerifKR",fontWeight:"500"},img:{width:"100%"}}}));function N(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}var C=function(e){var t=e.name,n=y(),i=Object(c.useState)(!1),r=Object(l.a)(i,2),o=r[0],s=r[1],d=Object(c.useState)(0),h=Object(l.a)(d,2),O=h[0],C=h[1],S=Object(c.useState)(!0),W=Object(l.a)(S,2),A=W[0],R=W[1],E=function(){x.collection("picks").orderBy("createdAt","asc").onSnapshot((function(e){var n=e.docs.map((function(e,t){return Object(b.a)({id:t},e.data())})).find((function(e){return e.name===t}));void 0!==n&&(C(n.id+1),s(!0)),R(!1)}))};Object(c.useEffect)((function(){E()}),[]);var I=function(){var e=Object(u.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t,createdAt:Date.now()},e.next=3,x.collection("picks").add(n);case 3:E();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(A)return Object(a.jsx)("div",{children:"Loading"});if(o){var T="202100"+N(O%151,3)+".png";return console.log(T),Object(a.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(v.a,{children:Object(a.jsx)("title",{children:k})}),Object(a.jsx)(g.Img,{src:"".concat(w,"/img/").concat(T),className:n.img}),Object(a.jsx)(j.a,{fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(){console.log("down");var e=new XMLHttpRequest;e.responseType="blob",e.onload=function(n){var a=e.response;console.log(a);var c=URL.createObjectURL(a),i=document.createElement("a");i.href=c,i.download="2021\ub144 ".concat(t," \uc758 \ub9d0\uc500.png"),document.body.appendChild(i),i.click()};var n="202100"+N(O%151,3)+".png";e.open("GET","".concat(w,"/img/").concat(n)),e.send()},children:"\uc800\uc7a5"}),Object(a.jsx)(j.a,{fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:function(){window.location.replace("https://bjh63742.github.io/pick-bible")},children:"\ucc98\uc74c\uc73c\ub85c"})]})}return Object(a.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(v.a,{children:Object(a.jsx)("title",{children:k})}),Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(p.a,{component:"h1",variant:"h4",className:n.title,children:k}),Object(a.jsx)(p.a,{className:n.title,children:t}),Object(a.jsx)("div",{children:Object(a.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:I,children:"\ub9d0\uc500 \ubc1b\uae30"})})]})]})},S=n(113),W=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"white"},avatar:{margin:e.spacing(1),backgroundColor:"#F22929"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#00A8E0"},title:{color:"#00A8E0",fontFamily:"NotoSerifKR",fontWeight:"500"}}}));function A(e){var t=e.handleName,n=W(),i=Object(c.useRef)(null),r=Object(c.useState)(!1),o=Object(l.a)(r,2),s=o[0],d=o[1];return Object(a.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(v.a,{children:Object(a.jsx)("title",{children:k})}),Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(p.a,{component:"h1",variant:"h4",className:n.title,children:k}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var n=i.current.value.trim();(n.length<2||n.length>5)&&d(!0),t(n)},children:[Object(a.jsx)(S.a,{error:s,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"\uc774\ub984",name:"name",autoComplete:"email",autoFocus:!0,inputRef:i,helperText:"\uc774\ub984\uc740 \ub450\uae00\uc790 \uc774\uc0c1\uc73c\ub85c \ud55c\uc0ac\ub78c\ub2f9 \ud55c\ubc88\ub9cc \uc785\ub825\ud574 \uc8fc\uc2dc\uace0 \ub098\uc624\ub294 \ub9d0\uc500\uc740 \ubc14\ub85c \uc800\uc7a5\ud574 \uc8fc\uc138\uc694"}),Object(a.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"\ud655\uc778"})]})]})]})}var R=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1];return""===n?Object(a.jsx)(A,{handleName:function(e){i(e)}}):Object(a.jsx)(C,{name:n})};var E=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(s.a,{}),Object(a.jsx)(R,{})]})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.6ea01151.chunk.js.map